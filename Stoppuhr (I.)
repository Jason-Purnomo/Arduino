#include "mfs.h"
int main() {
  init();
  initMFS();
  Serial.begin(9600);
  pinMode(A1, INPUT);
  uint32_t time_ms = 0; 		                  // time display in Arduino board
  uint8_t isRunning = 0;   	                  // stoppuhr läuft nicht
  uint8_t buttonA1_old = digitalRead(A1);     //buttonA1_old == 1 (offen, da am Anfang läuft die Stoppuhr noch nicht)
  uint8_t buttonA1;
  uint32_t time_start;

  while (1) {
    //Serial.println(millis()); optional: when the program is uploaded to the arduino, the time will flow and can be seen in the serial monitor.
    buttonA1 = digitalRead(A1);   // 0 = pressed, 1 = offen

    if ((isRunning == 0) && (buttonA1 < buttonA1_old)) {   //oder (buttonA1 == 0 && buttonA1_old == 1)
      Serial.println("GO");
      time_start = millis();	// millis() = current time in monitor
      isRunning = 1;
    }

    else if ((isRunning == 1) && (buttonA1 < buttonA1_old)) {
      Serial.println("STOP");
      isRunning = 0;
    }

    if(isRunning) {
      time_ms = millis() - time_start;    // millis() = current time in monitor
    }

    writeDecToSegment(time_ms);      //zeige die Zeit (in ms) an
    buttonA1_old = buttonA1;
  }
}
